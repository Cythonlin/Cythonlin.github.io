<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AI =&gt; Tensorflow2.0（win10 &amp; Beta &amp; GPU版 ）安装 | Cython_lin</title>
<meta name="description" content="" />
<link rel="shortcut icon" href="https://cythonlin.github.io/favicon.ico">
<link rel="stylesheet" href="https://cythonlin.github.io/styles/main.css">

<script src="https://cythonlin.github.io/media/js/jquery.min.js"></script>
<script src="https://cythonlin.github.io/media/js/masonry.pkgd.min.js"></script>
<script src="https://cythonlin.github.io/media/js/aos.js"></script>
<script src="https://cythonlin.github.io/media/js/pace.min.js"></script>
<script src="https://cythonlin.github.io/media/js/view-image.min.js"></script>
<script src="https://cythonlin.github.io/media/js/jquery.magnific-popup.min.js"></script>
<script src="https://cythonlin.github.io/media/js/functions.js"></script>
    <meta name="referrer" content="never">
    <meta name="description" content="前言
python &amp; cuda &amp; cudnn &amp; 显卡型 &amp; tensorflow 版本如果匹配不好，可能会踩坑。。
本篇文章，讲述了 全套安装过程 与 我所踩过的坑。
环境推荐
我也不是一次成的，当时 ..." />
    <meta name="keywords" content="AI" />
    <script src="https://cythonlin.github.io/media/js/waterfall.min.js"></script>
    <script src="https://cythonlin.github.io/media/js/prism.min.js"></script>
  </head>
  <body>
            <header id="header" class="grid-container">
        <!-- start: .menu-wrapper -->
        <div class="menu-mobile"> 
          <i class="fa fa-reorder"></i>
        </div>
        <div class="menu-wrapper">
          <div class="">
            <div class="logo">
              <a href="https://cythonlin.github.io"><img src="\media\images\custom-headerLogo.png" alt=""></a>
            </div>
            <!-- start: .main-nav -->

            <nav class="main-nav grid-container grid-parent">
              <ul id="menu-header" class="menu gradient-effect">
                <li class=""><a href="https://cythonlin.github.io" class="menu">首页</a></li>
                
                  <li class="" >
                    <a href="/archives" class="menu">
                      归档
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/tags" class="menu">
                      标签
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="https://cythonlin.github.io/post/the-future-is-promising" class="menu">
                      关于
                    </a>
                  </li>
                
                <li class="search-menu-item hide-on-mobile hide-on-tablet"><a href="#search-lightbox" class="lightbox mfp-inline"><i class="fa fa-search-line"></i></a></li>
              </ul>
            </nav>
            <a href="#search-lightbox" class="lightbox epcl-search-button mfp-inline hide-on-tablet hide-on-desktop"><i class="fa fa-search-line"></i></a>
            <!-- end: .main-nav -->
            <div class="clear"></div>
            <div class="border hide-on-tablet hide-on-mobile"></div>
          </div>    
          <div class="clear"></div>
        </div>
        <!-- end: .menu-wrapper -->
        <div class="clear"></div>
      </header>
      <div class="hide-on-mobile hide-on-tablet hide-on-desktop">
        <div id="search-lightbox" class="grid-container grid-small grid-parent mfp-hide">
          <div class="search-wrapper section">
            <form id="gridea-search-form" data-update="1612457453111" action="/search/index.html" class="search-form" _lpchecked="1">
              <input type="text" name="q" id="s" value="" class="search-field" placeholder="搜点啥..." aria-label="搜点啥..." required="">
              <button type="submit" class="submit" aria-label="Submit">
                <i class="fa fa-search-line"></i>
              </button>
            </form>
          </div>
        </div>
      </div>

      <main id="single" class="main grid-container fullcover no-sidebar aos-init aos-animate" data-aos="fade">

        <div class="center content">
          <div class="featured-image cover" style="background-image: url('/media/images/gridea.jpg');">
            <div class="meta top"> 
              <time class="meta-info" style="float:left;" datetime="2020-09-29"><i class="fa fa-calendar"></i><span class="lately">4 个月前</span></time>
              
              <a href="https://cythonlin.github.io/post/ai-greater-tensorflow20win10-and-beta-and-gpu-ban-an-zhuang/#comments" class="comments meta-info" title="">
                <i class="fa fa-comment remixicon"></i><span class="comment-count valine-comment-count" data-xid="/ai-greater-tensorflow20win10-and-beta-and-gpu-ban-an-zhuang/"> </span>
              </a>
              <span id="/ai-greater-tensorflow20win10-and-beta-and-gpu-ban-an-zhuang/" class="leancloud_visitors views-counter meta-info" title=""><i class="fa fa-leancloud remixicon"></i><span class="leancloud-visitors-count"></span></span>
              
            </div>
            <div class="info">
              <div class="tags ">
                
                      <a href="https://cythonlin.github.io/tag/n16me-6oV/" class="ctag ctag-0 ctag-n16me-6oV" aria-label="">AI</a>
                    
              </div>
              <h1 class="title ularge white bold">AI =&gt; Tensorflow2.0（win10 &amp; Beta &amp; GPU版 ）安装</h1>
            </div>
          </div>
        </div>  

        <div class="epcl-page-wrapper">
          <div class="left-content grid-70 np-mobile">
            <article class="main-article post">
              <section class="post-content">
                <div class="text">
                  <h1 id="前言">前言</h1>
<p>python &amp; cuda &amp; cudnn &amp; 显卡型 &amp; tensorflow 版本如果匹配不好，可能会踩坑。。<br>
本篇文章，讲述了 全套安装过程 与 我所踩过的坑。</p>
<h1 id="环境推荐">环境推荐</h1>
<p>我也不是一次成的，当时 tf-13rc问世时，弄了好久。<br>
稍微提一下，python官网首页的python3.7是 win32的。<br>
我之前重装系统偷懒下载的。用了很久才发现是32位的。。。。<br>
Tensorflow必须是需要 win 64位的。 （终端下输入 python就能看到是多少位的  xx bit ）<br>
注： 安装路径一律用 英文！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！</p>
<p>最后成功的配套版本如下：<br>
win10<br>
gtx1050   (其他型号的，不保证，应该也能差不多)<br>
python3.7 (感觉python问题并不是特别大。 建议 3.7)<br>
cuda:     cuda_10.0.130_411.31_win10<br>
cudnn:    cudnn-10.0-windows10-x64-v7.4.2.24<br>
tensorflow-gpu==2.0.0-beta0</p>
<h1 id="资源分享-baidunet">资源分享 （BaiduNet）</h1>
<p>资源构成: CUDA + CUDNN + 4个vc环境 （vc环境干啥的，下面说）<br>
我的网盘: https://pan.baidu.com/s/1Z6HaNUATvOjbyuCsUcshfw<br>
提取码: 2qut</p>
<p>下载后别乱点，按顺序看下面教程安装。 有依赖的。</p>
<h1 id="安装cuda">安装CUDA</h1>
<p>官链：https://developer.nvidia.com/cuda-downloads （如果你不想用我的工具包，可以自行CUDA官链）</p>
<p>如果你直接去安装CUDA时，可能会抛error, 提示你，需要依赖 vs201+ 环境。<br>
其实我们大可不必安装 那么大体积的vs， 而是安装 vc_redist 插件即可。</p>
<p>安装环节：</p>
<ol>
<li>你可以看到我分享的资源中， 有4个 vc_redist。<br>
下载下来， 防漏，从上到下挨个安装一遍。（瞬装很快，如果提示你已安装，不用管。全部安装一遍）</li>
<li>然后安装 CUDA，双击安装即可 （选精简版即可）（记住安装路径，我记得好像是默认自动路径，忘了）</li>
<li>一路下一步，即可安装成功<br>
配置环节：
<ol>
<li>默认自动安装的路径如下：  （如果你选的自定义安装，你要记住你的路径）<br>
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.0\bin</li>
<li>将此路径配置到 环境变量 中</li>
<li>关掉所有cmd, 重新打开cmd，输入 nvcc -V</li>
<li>没报错说明安装成功。</li>
</ol>
</li>
</ol>
<h1 id="安装cudnn">安装CUDNN</h1>
<p>官链：https://developer.nvidia.com/rdp/cudnn-download（如果你不想用我的工具包，可自行官链）<br>
(官网下 CUDNN 貌似需要登录)</p>
<p>操作环节：</p>
<ol>
<li>你可以看到我分享的资源中，有CUDNN，下载下来，解压（任意位置都可，记住就行）。</li>
<li>解压后，进入解压的目录，你会看到有个cuda目录，进去！然后做如下操作！！！<br>
2.1. 进入 bin 目录， 把里面的文件（应该就一个），复制到<br>
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.0\bin<br>
2.2  进入 include 目录，把里面的文件（应该就一个），复制到<br>
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.0\include<br>
2.3  进入 lib 目录, 再继续进入 x64 目录，把里面的文件（应该就一个），复制到<br>
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.0\lib\x64<br>
说一下： 上面3个路径，安装cuda提到的（精简版的默认路径， 你的和我的是一模一样的，直接复制）</li>
<li>将此路径添加到环境变量 （同样是默认路径，直接拿去复制，配了就行）：<br>
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.0\lib\x64</li>
</ol>
<h1 id="安装tensorflow">安装Tensorflow</h1>
<p>每个人有每个人的习惯，建议用用虚拟环境安装东西。 我较熟练 virtualenv + virtualenvwrapper-win<br>
当然，你直接装也是没问题的。</p>
<p>安装tensorflow-gpu<mark>2.0.0-beta0:<br>
pip install tensorflow-gpu</mark>2.0.0-beta0  -i http://pypi.douban.com/simple/  --trusted-host pypi.douban.com<br>
如果你是anaconda（那么需要先打开anaconda prompt pip）(科学)：<br>
pip install tensorflow-gpu==2.0.0-beta0</p>
<p>安装 matplotlib (非必须，但 反正也是不离手的东西，直接装了吧)<br>
pip install scipy matplotlib pandas sklearn -i http://pypi.douban.com/simple/  --trusted-host pypi.douban.com</p>
<p>至此，全部安装完成，接下来测试。</p>
<h1 id="测试安装-测试是否使用gpu">测试安装 &amp; 测试是否使用GPU</h1>
<pre><code>import tensorflow as tf

print(tf.__version__)
print(tf.test.gpu_device_name())
</code></pre>
<p>就这3行代码，即可。 看打印结果：<br>
2.0.0-beta0          # 这是版本信息<br>
/device:GPU:0        # GPU字样就说明可以使用GPU了。</p>
<h1 id="强迫症的挣扎">强迫症的挣扎</h1>
<p>执行上面代码测试的时候，我这里是有一大串 warning的。 关于数据类型的 warning。其实无伤大雅。<br>
不，很伤，我去github找了一下。其实就是你的 numpy版本太新了。 重装换一个 1.17以下版本 就行。<br>
CMD直接 运行以下命令即可：<br>
pip uninstall -y numpy &amp;&amp; pip install numpy==1.16.4<br>
强迫症帮助者链接：https://github.com/tensorflow/tensorflow/issues/30427#issuecomment-515770145</p>
<h1 id="结束语">结束语</h1>
<p>我的机子早一阵买的了， GTX1050的， 每个人的显型都不同。<br>
所以也许我给出的配套版本，不能满足所有人需求。<br>
下面说一下我之前装的时候遇到的问题：</p>
<ol>
<li>记得安装路径尽量全部，用英文。</li>
<li>cuda安不上，因为缺少 vs201+, （我上面说过了，安装我分享的那4个vc_redist小文件可代替安装 vs）</li>
<li>如果在安装tensorflow时，提示你，没有找到相关模块：<br>
3.1 可能是你的 python 和 pip 版本过低<br>
3.2 可能是你的 python是32位的。  （不要偷懒去安装主页的python3.7，那个是32位的。必须用64位）</li>
<li>如果在安装tensorflow 或者 import tensorflow 时，给你报了一大堆错误：<br>
4.0 首先看错误能不能看懂<br>
4.1 可能是我给的 配套版本。 并不能满足你的 机器，显型。 这时候你就得自己去找对应版本了<br>
4.2 我之前弄的时候，我记得好像有 Nvidia显卡 &amp; cuda &amp; cudnn 的对照表。忘记录了。可自行寻找。</li>
</ol>

                </div>
                <div class="clear"></div>
              </section>
            </article>
            <div class="clear"></div>

            <section class="related section">
              
              <article class="prev grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://cythonlin.github.io/media/images/n16me-6oV.jpg');"></div>
                 <a href="https://cythonlin.github.io/post/ai-greater-tensorflow20stablejiang-lin/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2020-09-29">2020-09-29</time>
                  <h4 class="title white no-margin">AI =&gt; Tensorflow2.0（stable）降临</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://cythonlin.github.io/media/images/left-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              
              
              <article class="next grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://cythonlin.github.io/media/images/n16me-6oV.jpg');"></div>
                 <a href="https://cythonlin.github.io/post/py-greater-hmm-yu-crf-yu-viterbi/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2020-09-29">2020-09-29</time>
                  <h4 class="title white no-margin">PY =&gt; HMM 与 CRF 与 Viterbi</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://cythonlin.github.io/media/images/right-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              

                <div class="clear"></div>
            </section>

              <div class="clear"></div>
              
            
<!--               <div id="comments" class="bg-white hosted ">
                <p>请到客户端“主题--自定义配置--valine”中填入ID和KEY</p>
              </div> -->
              <div class="clear"></div>
            

            </div>
          </div>
      </main>

          <footer id="footer" class="grid-container">
        <div class="widgets row gradient-effect">
            <div class="default-sidebar border-effect">
              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_epcl_posts_thumbs underline-effect">
                  <h4 class="widget-title title white bordered">最新文章</h4>
                  
                  
                  <article class="item post-0 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://cythonlin.github.io/post/pr-greater-del-alias-and-linux-rui-shi-jun-dao/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-02-05">2021-02-05</time>
                      <h4 class="title usmall">
                        <a href="https://cythonlin.github.io/post/pr-greater-del-alias-and-linux-rui-shi-jun-dao/">PR =&gt; Del Alias &amp; Linux瑞士军刀</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-1 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://cythonlin.github.io/post/pr-greater-musicbee-and-winamp-and-vst/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-01-29">2021-01-29</time>
                      <h4 class="title usmall">
                        <a href="https://cythonlin.github.io/post/pr-greater-musicbee-and-winamp-and-vst/">PR =&gt; MusicBee &amp; VST</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-2 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://cythonlin.github.io/post/pr-greater-uandp/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-01-19">2021-01-19</time>
                      <h4 class="title usmall">
                        <a href="https://cythonlin.github.io/post/pr-greater-uandp/">PR =&gt; U&amp;P</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_tag_cloud underline-effect">
                  <h4 class="widget-title title white bordered">标签云</h4>
                  <div class="tagcloud">
                    
                      <a href="https://cythonlin.github.io/tag/sKPdrpV6Y/" class="ctag ctag-0 ctag-sKPdrpV6Y" aria-label="">PR</a>
                    
                      <a href="https://cythonlin.github.io/tag/wAXYBHxvH/" class="ctag ctag-1 ctag-wAXYBHxvH" aria-label="">Python</a>
                    
                      <a href="https://cythonlin.github.io/tag/1L4lr0i2f/" class="ctag ctag-2 ctag-1L4lr0i2f" aria-label="">Docker</a>
                    
                      <a href="https://cythonlin.github.io/tag/c137hZpK4/" class="ctag ctag-3 ctag-c137hZpK4" aria-label="">IDE</a>
                    
                      <a href="https://cythonlin.github.io/tag/XH05Gb5J6/" class="ctag ctag-4 ctag-XH05Gb5J6" aria-label="">Golang</a>
                    
                      <a href="https://cythonlin.github.io/tag/EjFvvnhFs/" class="ctag ctag-5 ctag-EjFvvnhFs" aria-label="">RS</a>
                    
                      <a href="https://cythonlin.github.io/tag/n16me-6oV/" class="ctag ctag-6 ctag-n16me-6oV" aria-label="">AI</a>
                    
                      <a href="https://cythonlin.github.io/tag/FLS_eF6Eg/" class="ctag ctag-7 ctag-FLS_eF6Eg" aria-label="">KG</a>
                    
                      <a href="https://cythonlin.github.io/tag/sJAb6NuUK/" class="ctag ctag-8 ctag-sJAb6NuUK" aria-label="">DB</a>
                    
                  </div>
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="epcl_about-2" class="widget widget_epcl_about underline-effect">
                  <h4 class="widget-title title white bordered">关于我</h4>
                  <div class="avatar">
                    <a href="" class="translate-effect thumb"><span class="fullimage cover" style="background-image: url(https://cythonlin.github.io/images/avatar.png);"></span></a>
                  </div>
                  <div class="info">
                    <h4 class="title small author-name gradient-effect no-margin"><a href="">Cython_lin</a></h4>
                    <p class="founder"></p>
                    <div class="social">
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                    </div> 
                  </div>
                  <div class="clear"></div>
                  </section>
              </div>

            </div>
            <div class="clear"></div>
        </div>

        <div class="logo">
          <a href="https://cythonlin.github.io"><img src="\media\images\custom-footerLogo.png" alt=""></a>
        </div>
        <p class="published border-effect">
          ©2019 共 75 篇文章
          <br/>

        </p>
        
        <a href="javascript:void(0)" id="back-to-top" class="epcl-button dark" style="display:none">
          <i class="fa fa-arrow"></i>
        </a>
    </footer>
    
    <div class="clear"></div>

        

      
    <script src="https://cythonlin.github.io/media/js/functions-post.js"></script>

    </div>
    <!-- end: #wrapper -->
  </body>
</html>
