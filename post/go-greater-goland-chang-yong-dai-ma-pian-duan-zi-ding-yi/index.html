<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RS =&gt; æ¨èç³»ç»Ÿï¼ˆå››ï¼‰å®æ—¶è®¡ç®—è§£å†³å†·å¯åŠ¨ | Cython_lin</title>
<meta name="description" content="" />
<link rel="shortcut icon" href="https://cythonlin.github.io/favicon.ico">
<link rel="stylesheet" href="https://cythonlin.github.io/styles/main.css">

<script src="https://cythonlin.github.io/media/js/jquery.min.js"></script>
<script src="https://cythonlin.github.io/media/js/masonry.pkgd.min.js"></script>
<script src="https://cythonlin.github.io/media/js/aos.js"></script>
<script src="https://cythonlin.github.io/media/js/pace.min.js"></script>
<script src="https://cythonlin.github.io/media/js/view-image.min.js"></script>
<script src="https://cythonlin.github.io/media/js/jquery.magnific-popup.min.js"></script>
<script src="https://cythonlin.github.io/media/js/functions.js"></script>
    <meta name="referrer" content="never">
    <meta name="description" content="å®æ—¶è®¡ç®—ä¸šåŠ¡éœ€æ±‚
å®æ—¶ï¼ˆåœ¨çº¿ï¼‰è®¡ç®—ï¼š

è§£å†³ç”¨æˆ·å†·å¯åŠ¨é—®é¢˜
å®æ—¶è®¡ç®—èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„ç‚¹å‡»å®æ—¶åé¦ˆï¼Œå¿«é€Ÿè·Ÿè¸ªç”¨æˆ·çš„å–œå¥½

Flumeæ”¶é›†æ—¥å¿—åˆ°Kafka

ç›®çš„ï¼šæ”¶é›†æœ¬åœ°å®æ—¶æ—¥å¿—è¡Œä¸ºæ•°æ®ï¼Œåˆ°kafka
æ­¥éª¤ï¼š

å¼€å¯zookeeperä»¥åŠkaf..." />
    <meta name="keywords" content="RS" />
    <script src="https://cythonlin.github.io/media/js/waterfall.min.js"></script>
    <script src="https://cythonlin.github.io/media/js/prism.min.js"></script>
  </head>
  <body>
            <header id="header" class="grid-container">
        <!-- start: .menu-wrapper -->
        <div class="menu-mobile"> 
          <i class="fa fa-reorder"></i>
        </div>
        <div class="menu-wrapper">
          <div class="">
            <div class="logo">
              <a href="https://cythonlin.github.io"><img src="\media\images\custom-headerLogo.png" alt=""></a>
            </div>
            <!-- start: .main-nav -->

            <nav class="main-nav grid-container grid-parent">
              <ul id="menu-header" class="menu gradient-effect">
                <li class=""><a href="https://cythonlin.github.io" class="menu">é¦–é¡µ</a></li>
                
                  <li class="" >
                    <a href="/archives" class="menu">
                      å½’æ¡£
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/tags" class="menu">
                      æ ‡ç­¾
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="https://cythonlin.github.io/post/the-future-is-promising" class="menu">
                      å…³äº
                    </a>
                  </li>
                
                <li class="search-menu-item hide-on-mobile hide-on-tablet"><a href="#search-lightbox" class="lightbox mfp-inline"><i class="fa fa-search-line"></i></a></li>
              </ul>
            </nav>
            <a href="#search-lightbox" class="lightbox epcl-search-button mfp-inline hide-on-tablet hide-on-desktop"><i class="fa fa-search-line"></i></a>
            <!-- end: .main-nav -->
            <div class="clear"></div>
            <div class="border hide-on-tablet hide-on-mobile"></div>
          </div>    
          <div class="clear"></div>
        </div>
        <!-- end: .menu-wrapper -->
        <div class="clear"></div>
      </header>
      <div class="hide-on-mobile hide-on-tablet hide-on-desktop">
        <div id="search-lightbox" class="grid-container grid-small grid-parent mfp-hide">
          <div class="search-wrapper section">
            <form id="gridea-search-form" data-update="1615464813020" action="/search/index.html" class="search-form" _lpchecked="1">
              <input type="text" name="q" id="s" value="" class="search-field" placeholder="æœç‚¹å•¥..." aria-label="æœç‚¹å•¥..." required="">
              <button type="submit" class="submit" aria-label="Submit">
                <i class="fa fa-search-line"></i>
              </button>
            </form>
          </div>
        </div>
      </div>

      <main id="single" class="main grid-container fullcover no-sidebar aos-init aos-animate" data-aos="fade">

        <div class="center content">
          <div class="featured-image cover" style="background-image: url('/media/images/gridea.jpg');">
            <div class="meta top"> 
              <time class="meta-info" style="float:left;" datetime="2020-10-10"><i class="fa fa-calendar"></i><span class="lately">5 ä¸ªæœˆå‰</span></time>
              
              <a href="https://cythonlin.github.io/post/go-greater-goland-chang-yong-dai-ma-pian-duan-zi-ding-yi/#comments" class="comments meta-info" title="">
                <i class="fa fa-comment remixicon"></i><span class="comment-count valine-comment-count" data-xid="/go-greater-goland-chang-yong-dai-ma-pian-duan-zi-ding-yi/"> </span>
              </a>
              <span id="/go-greater-goland-chang-yong-dai-ma-pian-duan-zi-ding-yi/" class="leancloud_visitors views-counter meta-info" title=""><i class="fa fa-leancloud remixicon"></i><span class="leancloud-visitors-count"></span></span>
              
            </div>
            <div class="info">
              <div class="tags ">
                
                      <a href="https://cythonlin.github.io/tag/EjFvvnhFs/" class="ctag ctag-0 ctag-EjFvvnhFs" aria-label="">RS</a>
                    
              </div>
              <h1 class="title ularge white bold">RS =&gt; æ¨èç³»ç»Ÿï¼ˆå››ï¼‰å®æ—¶è®¡ç®—è§£å†³å†·å¯åŠ¨</h1>
            </div>
          </div>
        </div>  

        <div class="epcl-page-wrapper">
          <div class="left-content grid-70 np-mobile">
            <article class="main-article post">
              <section class="post-content">
                <div class="text">
                  <h1 id="å®æ—¶è®¡ç®—ä¸šåŠ¡éœ€æ±‚">å®æ—¶è®¡ç®—ä¸šåŠ¡éœ€æ±‚</h1>
<p>å®æ—¶ï¼ˆåœ¨çº¿ï¼‰è®¡ç®—ï¼š</p>
<ul>
<li>è§£å†³ç”¨æˆ·å†·å¯åŠ¨é—®é¢˜</li>
<li>å®æ—¶è®¡ç®—èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„ç‚¹å‡»å®æ—¶åé¦ˆï¼Œå¿«é€Ÿè·Ÿè¸ªç”¨æˆ·çš„å–œå¥½</li>
</ul>
<h1 id="flumeæ”¶é›†æ—¥å¿—åˆ°kafka">Flumeæ”¶é›†æ—¥å¿—åˆ°Kafka</h1>
<ul>
<li>ç›®çš„ï¼šæ”¶é›†æœ¬åœ°å®æ—¶æ—¥å¿—è¡Œä¸ºæ•°æ®ï¼Œåˆ°kafka</li>
<li>æ­¥éª¤ï¼š
<ul>
<li>å¼€å¯zookeeperä»¥åŠkafkaæµ‹è¯•</li>
<li>åˆ›å»ºflumeé…ç½®æ–‡ä»¶ï¼Œå¼€å¯flume</li>
<li>å¼€å¯kafkaè¿›è¡Œæ—¥å¿—å†™å…¥æµ‹è¯•</li>
<li>è„šæœ¬æ·»åŠ ä»¥åŠsupervisorç®¡ç†</li>
</ul>
</li>
</ul>
<ol>
<li>
<p>å¼€å¯zookeeper,éœ€è¦åœ¨ä¸€ç›´åœ¨æœåŠ¡å™¨ç«¯å®æ—¶è¿è¡Œï¼Œä»¥å®ˆæŠ¤è¿›ç¨‹è¿è¡Œ</p>
<pre><code> /root/bigdata/kafka/bin/zookeeper-server-start.sh -daemon /root/bigdata/kafka/config/zookeeper.properties
</code></pre>
</li>
<li>
<p>ä»¥åŠkafkaçš„æµ‹è¯•ï¼š</p>
<pre><code> /root/bigdata/kafka/bin/kafka-server-start.sh /root/bigdata/kafka/config/server.properties
</code></pre>
</li>
<li>
<p>kafkaæµ‹è¯•è¿‡ç¨‹ï¼š<br>
å¼€å¯æ¶ˆæ¯ç”Ÿäº§è€…</p>
<pre><code> /root/bigdata/kafka/bin/kafka-console-producer.sh --broker-list 192.168.19.137:9092 --sync --topic click-trace
</code></pre>
<p>å¼€å¯æ¶ˆè´¹è€…</p>
<pre><code> /root/bigdata/kafka/bin/kafka-console-consumer.sh --bootstrap-server 192.168.19.137:9092 --topic  click-trace
</code></pre>
</li>
</ol>
<h3 id="æ­£å¼é…ç½®">æ­£å¼é…ç½®</h3>
<p>ä¿®æ”¹åŸæ¥æ”¶é›†æ—¥å¿—çš„æ–‡ä»¶ï¼Œæ·»åŠ flumeæ”¶é›†æ—¥å¿—è¡Œä¸ºåˆ°kafkaçš„source, channel, sink</p>
<pre><code>a1.sources = s1
a1.sinks = k1 k2
a1.channels = c1 c2

a1.sources.s1.channels= c1 c2
a1.sources.s1.type = exec
a1.sources.s1.command = tail -F /root/logs/userClick.log
a1.sources.s1.interceptors=i1 i2
a1.sources.s1.interceptors.i1.type=regex_filter
a1.sources.s1.interceptors.i1.regex=\\{.*\\}
a1.sources.s1.interceptors.i2.type=timestamp

# channel1
a1.channels.c1.type=memory
a1.channels.c1.capacity=30000
a1.channels.c1.transactionCapacity=1000

# channel2
a1.channels.c2.type=memory
a1.channels.c2.capacity=30000
a1.channels.c2.transactionCapacity=1000

# k1
a1.sinks.k1.type=hdfs
a1.sinks.k1.channel=c1
a1.sinks.k1.hdfs.path=hdfs://192.168.19.137:9000/user/hive/warehouse/profile.db/user_action/%Y-%m-%d
a1.sinks.k1.hdfs.useLocalTimeStamp = true
a1.sinks.k1.hdfs.fileType=DataStream
a1.sinks.k1.hdfs.writeFormat=Text
a1.sinks.k1.hdfs.rollInterval=0
a1.sinks.k1.hdfs.rollSize=10240
a1.sinks.k1.hdfs.rollCount=0
a1.sinks.k1.hdfs.idleTimeout=60

# k2
a1.sinks.k2.channel=c2
a1.sinks.k2.type=org.apache.flume.sink.kafka.KafkaSink
a1.sinks.k2.kafka.bootstrap.servers=192.168.19.137:9092
a1.sinks.k2.kafka.topic=click-trace
a1.sinks.k2.kafka.batchSize=20
a1.sinks.k2.kafka.producer.requiredAcks=1
</code></pre>
<p>å¼€å¯flumeæ–°çš„é…ç½®è¿›è¡Œæµ‹è¯•, å¼€å¯ä¹‹å‰å…³é—­ä¹‹å‰çš„flumeç¨‹åº</p>
<pre><code>supervisor&gt; status
collect-click                    RUNNING   May 26 09:43 AM
offline                          STOPPED   May 27 06:03 AM
supervisor&gt;
</code></pre>
<p>stop collect-click</p>
<pre><code>#!/usr/bin/env bash

export JAVA_HOME=/root/bigdata/jdk
export HADOOP_HOME=/root/bigdata/hadoop
export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin

/root/bigdata/flume/bin/flume-ng agent -c /root/bigdata/flume/conf -f /root/bigdata/flume/conf/collect_click.conf -Dflume.root.logger=INFO,console -name a1
</code></pre>
<p>æ·»åŠ ä¹‹åï¼Œå¼€å¯supervisoré‡Œé¢çš„flumeè¿›ç¨‹</p>
<pre><code>start collect-click
</code></pre>
<p>å¼€å¯kafkaè¿›è¡Œæ—¥å¿—å†™å…¥æµ‹è¯•</p>
<ul>
<li>
<p>å¼€å¯kafkaè„šæœ¬è¿›è¡Œæµ‹è¯•ï¼Œä¸ºäº†ä¿è¯æ¯æ¬¡èƒ½å¤Ÿæ­£å¸¸æŠŠzookeeperä¹Ÿæ”¾å…¥è„šæœ¬ä¸­ï¼Œå…³é—­ä¹‹å‰çš„zookeeperï¼Œç»Ÿä¸€åœ¨kafkaçš„å¼€å¯è„šæœ¬ä¸­åŠ å…¥zookeeperï¼Œåä¸º start_kafka.sh</p>
<pre><code>  #!/usr/bin/env bash

  /root/bigdata/kafka/bin/zookeeper-server-start.sh -daemon /root/bigdata/kafka/config/zookeeper.properties

  /root/bigdata/kafka/bin/kafka-server-start.sh /root/bigdata/kafka/config/server.properties

  /root/bigdata/kafka/bin/kafka-topics.sh --zookeeper 192.168.19.137:2181 --create --replication-factor 1 --topic click-trace --partitions 1
</code></pre>
</li>
</ul>
<p>supervisoræ·»åŠ è„šæœ¬<br>
<a href="https://www.cklin.top/post/rs-greater-tui-jian-xi-tong-yi-huan-jing-pei-zhi-shu-ju-shou-ji/">=&gt; supervisorè¯¦æƒ…é…ç½®</a></p>
<pre><code>[program:kafka]
command=/bin/bash /root/toutiao_project/scripts/start_kafka.sh
user=root
autorestart=true
redirect_stderr=true
stdout_logfile=/root/logs/kafka.log
loglevel=info
stopsignal=KILL
stopasgroup=true
killasgroup=true
</code></pre>
<p>supervisorè¿›è¡Œupdate</p>
<h3 id="æµ‹è¯•é…ç½®åçš„kafka">æµ‹è¯•é…ç½®åçš„Kafka</h3>
<p>å¼€å¯Kafkaæ¶ˆè´¹è€…</p>
<pre><code>/root/bigdata/kafka/bin/kafka-console-consumer.sh --bootstrap-server 192.168.19.137:9092 --topic  click-trace
</code></pre>
<p>å†™å…¥ä¸€æ¬¡ç‚¹å‡»æ•°æ®ï¼š</p>
<pre><code>echo {\&quot;actionTime\&quot;:\&quot;2019-04-10 21:04:39\&quot;,\&quot;readTime\&quot;:\&quot;\&quot;,\&quot;channelId\&quot;:18,\&quot;param\&quot;:{\&quot;action\&quot;: \&quot;click\&quot;, \&quot;userId\&quot;: \&quot;2\&quot;, \&quot;articleId\&quot;: \&quot;14299\&quot;, \&quot;algorithmCombine\&quot;: \&quot;C2\&quot;}} &gt;&gt; userClick.log
</code></pre>
<p>è§‚å¯Ÿæ¶ˆè´¹è€…ç»“æœ</p>
<pre><code>[root@hadoop-master ~]# /root/bigdata/kafka/bin/kafka-console-consumer.sh --bootstrap-server 192.168.19.137:9092 --topic  click-trace
{&quot;actionTime&quot;:&quot;2019-04-10 21:04:39&quot;,&quot;readTime&quot;:&quot;&quot;,&quot;channelId&quot;:18,&quot;param&quot;:{&quot;action&quot;: &quot;click&quot;, &quot;userId&quot;: &quot;2&quot;, &quot;articleId&quot;: &quot;14299&quot;, &quot;algorithmCombine&quot;: &quot;C2&quot;}}
</code></pre>
<h2 id="æ€»ç»“æ•°æ®æµé€šçš„ä¸¤æ¡è·¯å¾„">æ€»ç»“æ•°æ®æµé€šçš„ä¸¤æ¡è·¯å¾„</h2>
<pre><code>Flume -&gt; Hadoop -&gt; Hive
Flume
    -&gt; Kafkaç”Ÿäº§è€…ä¸»é¢˜(click-trace) 
        -&gt; æ¶ˆè´¹è€…ï¼ˆSpark Streaming æˆ– Stormï¼‰
</code></pre>
<h1 id="å®æ—¶å¬å›-spark-streaming">å®æ—¶å¬å› Spark Streaming</h1>
<h2 id="ç›®çš„">ç›®çš„</h2>
<ul>
<li>ä½¿ç”¨Spark Streaming è¯»å– Kafkaç”Ÿäº§è€…topicé‡Œé¢çš„è¡Œä¸ºæ—¥å¿—æ•°æ®ï¼ˆkafkaå»flumeé‚£é‡Œæ”¶é›†çš„ï¼‰</li>
<li>æ ¹æ®è¡Œä¸ºæ—¥å¿—æ‰¾å‡ºç”¨æˆ·è¡Œä¸ºæ“ä½œçš„æ–‡ç« ï¼Œ å¹¶æ ¹æ®å†…å®¹æŠŠç›¸ä¼¼æ–‡ç« æ¨èæ¨ç»™ç”¨æˆ·ï¼Œå®ç°å®æ—¶å†…å®¹å¬å›ã€‚</li>
</ul>
<h2 id="æ­¥éª¤">æ­¥éª¤</h2>
<ul>
<li>é…ç½®spark streamingä¿¡æ¯</li>
<li>è¯»å–ç‚¹å‡»è¡Œä¸ºæ—¥å¿—æ•°æ®ï¼Œè·å–ç›¸ä¼¼æ–‡ç« åˆ—è¡¨</li>
<li>è¿‡æ»¤å†å²æ–‡ç« é›†åˆ</li>
<li>å­˜å…¥å¬å›ç»“æœä»¥åŠå†å²è®°å½•ç»“æœ</li>
<li>å†™å…¥æ—¥å¿—è¿›è¡Œæµ‹è¯•</li>
</ul>
<h2 id="åˆ›å»ºspark-streamingé…ç½®ä¿¡æ¯ä»¥åŠhappybase">åˆ›å»ºspark streamingé…ç½®ä¿¡æ¯ä»¥åŠhappybase</h2>
<p>å¯¼å…¥é»˜è®¤çš„é…ç½®ï¼ŒSPARK_ONLINE_CONFIG</p>
<pre><code># å¢åŠ spark online å¯åŠ¨é…ç½®
class DefaultConfig(object):
    &quot;&quot;&quot;é»˜è®¤çš„ä¸€äº›é…ç½®ä¿¡æ¯
    &quot;&quot;&quot;
    SPARK_ONLINE_CONFIG = (
        (&quot;spark.app.name&quot;, &quot;onlineUpdate&quot;),  # è®¾ç½®å¯åŠ¨çš„sparkçš„appåç§°ï¼Œæ²¡æœ‰æä¾›ï¼Œå°†éšæœºäº§ç”Ÿä¸€ä¸ªåç§°
        (&quot;spark.master&quot;, &quot;yarn&quot;),
        (&quot;spark.executor.instances&quot;, 4)
    )
</code></pre>
<p>é…ç½®StreamingContextï¼Œåœ¨onlineçš„__init__.pyæ–‡ä»¶æ·»åŠ ï¼Œå¯¼å…¥æ¨¡å—æ—¶ç›´æ¥ä½¿ç”¨</p>
<pre><code># æ·»åŠ sparkstreamingå¯åŠ¨å¯¹æ¥kafkaçš„é…ç½®

from pyspark import SparkConf
from pyspark.sql import SparkSession
from pyspark import SparkContext
from pyspark.streaming import StreamingContext
from pyspark.streaming.kafka import KafkaUtils
from setting.default import DefaultConfig

import happybase

#  ç”¨äºè¯»å–hbaseç¼“å­˜ç»“æœé…ç½®
pool = happybase.ConnectionPool(size=10, host='hadoop-master', port=9090)
# 1ã€åˆ›å»ºconf
conf = SparkConf()
conf.setAll(DefaultConfig.SPARK_ONLINE_CONFIG)
# å»ºç«‹spark sessionä»¥åŠspark streaming context
sc = SparkContext(conf=conf)
# åˆ›å»ºStreaming Context
stream_c = StreamingContext(sc, 60)
</code></pre>
<h3 id="kafka-æ¶ˆè´¹è€…ç»„">Kafka æ¶ˆè´¹è€…ç»„</h3>
<p>é…ç½®streaming è¯»å–Kafkaçš„é…ç½®,åœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ KAFKAIPå’Œç«¯å£<br>
ä¸‹é¢groupbyä»£è¡¨åˆ†ç»„ï¼ŒKafkaåˆ†ç»„çš„ä½œç”¨å°±æ˜¯æŠŠæ•°æ®copy nä»½ï¼Œæ”¾åˆ°nä¸ªç»„ä¸­<br>
è¿™æ ·ï¼Œå³ä½¿Topicå†…çš„æ•°æ®è¢«æ¶ˆè´¹äº†ä¸€ä¸ªï¼Œè¿˜æœ‰å…¶ä»–ç»„çš„æ•°æ®å¯ä¾›ä½¿ç”¨</p>
<pre><code># KAFKAé…ç½®
KAFKA_SERVER = &quot;192.168.19.137:9092&quot;

# åŸºäºå†…å®¹å¬å›é…ç½®ï¼Œç”¨äºæ”¶é›†ç”¨æˆ·è¡Œä¸ºï¼Œè·å–ç›¸ä¼¼æ–‡ç« å®æ—¶æ¨è
similar_kafkaParams = {&quot;metadata.broker.list&quot;: DefaultConfig.KAFKA_SERVER, &quot;group.id&quot;: 'similar'}
SIMILAR_DS = KafkaUtils.createDirectStream(stream_c, ['click-trace'], similar_kafkaParams)
</code></pre>
<p>åˆ›å»ºonline_updateæ–‡ä»¶ï¼Œå»ºç«‹åœ¨çº¿å¬å›ç±»</p>
<pre><code>import os
import sys
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
sys.path.insert(0, os.path.join(BASE_DIR))
from online import stream_sc, SIMILAR_DS, pool
from datetime import datetime
from setting.default import DefaultConfig
import redis
import json
import time
import setting.logging as lg
import logging
</code></pre>
<p>æ³¨æ„æ·»åŠ è¿è¡Œæ—¶ç¯å¢ƒ</p>
<pre><code># æ³¨æ„ï¼Œå¦‚æœæ˜¯ä½¿ç”¨jupyteræˆ–ipythonä¸­ï¼Œåˆ©ç”¨spark streamingé“¾æ¥kafkaçš„è¯ï¼Œå¿…é¡»åŠ ä¸Šä¸‹é¢è¯­å¥
# åŒæ—¶æ³¨æ„ï¼šspark version&gt;2.2.2çš„è¯ï¼Œpysparkä¸­çš„kafkaå¯¹åº”æ¨¡å—å·²è¢«é—å¼ƒï¼Œå› æ­¤è¿™é‡Œæš‚æ—¶åªèƒ½ç”¨2.2.2ç‰ˆæœ¬çš„spark
os.environ[&quot;PYSPARK_SUBMIT_ARGS&quot;] = &quot;--packages org.apache.spark:spark-streaming-kafka-0-8_2.11:2.2.2 pyspark-shell&quot;
</code></pre>
<p>Kafkaè¯»å–ç‚¹å‡»è¡Œä¸ºæ—¥å¿—æ•°æ®ï¼Œè·å–ç›¸ä¼¼æ–‡ç« åˆ—è¡¨<br>
ä¼ å…¥Kafkaçš„æ•°æ®ï¼š</p>
<pre><code>{&quot;actionTime&quot;:&quot;2019-04-10 21:04:39&quot;,&quot;readTime&quot;:&quot;&quot;,&quot;channelId&quot;:18,&quot;param&quot;:{&quot;action&quot;: &quot;click&quot;, &quot;userId&quot;: &quot;2&quot;, &quot;articleId&quot;: &quot;116644&quot;, &quot;algorithmCombine&quot;: &quot;C2&quot;}}
Time taken: 3.72 seconds, Fetched: 1 row(s)
</code></pre>
<p>è¿‡æ»¤å†å²æ–‡ç« é›†åˆ<br>
å­˜å…¥å¬å›ç»“æœä»¥åŠå†å²è®°å½•ç»“æœ</p>
<pre><code>class OnlineRecall(object):
    &quot;&quot;&quot;åœ¨çº¿å¤„ç†è®¡ç®—å¹³å°
    &quot;&quot;&quot;
    def __init__(self):
        pass

def _update_content_recall(self):
    &quot;&quot;&quot;
    åœ¨çº¿å†…å®¹å¬å›è®¡ç®—
    :return:
    &quot;&quot;&quot;
    # {&quot;actionTime&quot;:&quot;2019-04-10 21:04:39&quot;,&quot;readTime&quot;:&quot;&quot;,&quot;channelId&quot;:18,
    # &quot;param&quot;:{&quot;action&quot;: &quot;click&quot;, &quot;userId&quot;: &quot;2&quot;, &quot;articleId&quot;: &quot;116644&quot;, &quot;algorithmCombine&quot;: &quot;C2&quot;}}
    # x [,'json.....']
    def get_similar_online_recall(rdd):
        &quot;&quot;&quot;
        è§£ærddä¸­çš„å†…å®¹ï¼Œç„¶åè¿›è¡Œè·å–è®¡ç®—
        :param rdd:
        :return:
        &quot;&quot;&quot;
        # rdd---&gt; æ•°æ®æœ¬èº«
        # [row(1,2,3), row(4,5,6)]-----&gt;[[1,2,3], [4,5,6]]
        import happybase
        # åˆå§‹åŒ–happybaseè¿æ¥
        pool = happybase.ConnectionPool(size=10, host='hadoop-master', port=9090)
        for data in rdd.collect():

            # è¿›è¡Œdataå­—å…¸å¤„ç†è¿‡æ»¤
            if data['param']['action'] in [&quot;click&quot;, &quot;collect&quot;, &quot;share&quot;]:

                logger.info(
                    &quot;{} INFO: get user_id:{} action:{}  log&quot;.format(datetime.now().strftime('%Y-%m-%d %H:%M:%S'),
                                                                    data['param']['userId'], data['param']['action']))

                # è¯»å–paramå½“ä¸­articleIdï¼Œç›¸ä¼¼çš„æ–‡ç« 
                with pool.connection() as conn:

                    sim_table = conn.table(&quot;article_similar&quot;)

                    # æ ¹æ®ç”¨æˆ·ç‚¹å‡»æµæ—¥å¿—æ¶‰åŠæ–‡ç« æ‰¾å‡ºä¸ä¹‹æœ€ç›¸ä¼¼æ–‡ç« (åŸºäºå†…å®¹çš„ç›¸ä¼¼)ï¼Œé€‰å–TOP-kç›¸ä¼¼çš„ä½œä¸ºå¬å›æ¨èç»“æœ
                    _dic = sim_table.row(str(data[&quot;param&quot;][&quot;articleId&quot;]).encode(), columns=[b&quot;similar&quot;])
                    _srt = sorted(_dic.items(), key=lambda obj: obj[1], reverse=True)  # æŒ‰ç›¸ä¼¼åº¦æ’åº
                    if _srt:

                        topKSimIds = [int(i[0].split(b&quot;:&quot;)[1]) for i in _srt[:10]]

                        # æ ¹æ®å†å²æ¨èé›†è¿‡æ»¤ï¼Œå·²ç»ç»™ç”¨æˆ·æ¨èè¿‡çš„æ–‡ç« 
                        history_table = conn.table(&quot;history_recall&quot;)

                        _history_data = history_table.cells(
                            b&quot;reco:his:%s&quot; % data[&quot;param&quot;][&quot;userId&quot;].encode(),
                            b&quot;channel:%d&quot; % data[&quot;channelId&quot;]
                        )

                        history = []
                        if len(_history_data) &gt; 1:
                            for l in _history_data:
                                history.extend(l)

                        # æ ¹æ®å†å²å¬å›è®°å½•ï¼Œè¿‡æ»¤å¬å›ç»“æœ
                        recall_list = list(set(topKSimIds) - set(history))

                        # å¦‚æœæœ‰æ¨èç»“æœé›†ï¼Œé‚£ä¹ˆå°†æ•°æ®æ·»åŠ åˆ°cb_recallè¡¨ä¸­ï¼ŒåŒæ—¶è®°å½•åˆ°å†å²è®°å½•è¡¨ä¸­
                        logger.info(
                            &quot;{} INFO: store online recall data:{}&quot;.format(
                                datetime.now().strftime('%Y-%m-%d %H:%M:%S'), str(recall_list)))

                        if recall_list:

                            recall_table = conn.table(&quot;cb_recall&quot;)

                            recall_table.put(
                                b&quot;recall:user:%s&quot; % data[&quot;param&quot;][&quot;userId&quot;].encode(),
                                {b&quot;online:%d&quot; % data[&quot;channelId&quot;]: str(recall_list).encode()}
                            )

                            history_table.put(
                                b&quot;reco:his:%s&quot; % data[&quot;param&quot;][&quot;userId&quot;].encode(),
                                {b&quot;channel:%d&quot; % data[&quot;channelId&quot;]: str(recall_list).encode()}
                            )
                    conn.close()

    # xå¯ä»¥æ˜¯å¤šæ¬¡ç‚¹å‡»è¡Œä¸ºæ•°æ®ï¼ŒåŒæ—¶æ‹¿åˆ°å¤šæ¡æ•°æ®
    # ğŸ˜€ æ³¨æ„ï¼škafka ç”Ÿäº§å‡ºçš„æ•°æ® çš„ æ•°æ®ç±»å‹ä¸º RDDæ“ä½œï¼Œæ‰€ä»¥ç”¨äº†for RDD
    SIMILAR_DS.map(lambda x: json.loads(x[1])).foreachRDD(get_similar_online_recall)
</code></pre>
<p>å¼€å¯å®æ—¶è¿è¡Œ,åŒæ—¶å¢åŠ æ—¥å¿—æ‰“å°</p>
<pre><code>if __name__ == '__main__':
    # å¯åŠ¨æ—¥å¿—é…ç½®
    lg.create_logger()
    op = OnlineRecall()
    op._update_online_cb()
    stream_c.start()
    # ä½¿ç”¨ ctrl+c å¯ä»¥é€€å‡ºæœåŠ¡
    _ONE_DAY_IN_SECONDS = 60 * 60 * 24
    try:
        while True:
            time.sleep(_ONE_DAY_IN_SECONDS)
    except KeyboardInterrupt:
        pass
</code></pre>
<h3 id="æ·»åŠ æ–‡ä»¶æ‰“å°æ—¥å¿—">æ·»åŠ æ–‡ä»¶æ‰“å°æ—¥å¿—</h3>
<pre><code># æ·»åŠ åˆ°éœ€è¦æ‰“å°æ—¥å¿—å†…å®¹çš„æ–‡ä»¶ä¸­
logger = logging.getLogger('online')

# åœ¨çº¿æ›´æ–°æ—¥å¿—
# ç¦»çº¿å¤„ç†æ›´æ–°æ‰“å°æ—¥å¿—
trace_file_handler = logging.FileHandler(
os.path.join(logging_file_dir, 'online.log')
)
trace_file_handler.setFormatter(logging.Formatter('%(message)s'))
log_trace = logging.getLogger('online')
log_trace.addHandler(trace_file_handler)
log_trace.setLevel(logging.INFO)
</code></pre>
<p>æ·»åŠ æ—¥å¿—æ•°æ®ï¼Œè¿›è¡Œæµ‹è¯•</p>
<pre><code>echo {\&quot;actionTime\&quot;:\&quot;2019-04-10 21:04:39\&quot;,\&quot;readTime\&quot;:\&quot;\&quot;,\&quot;channelId\&quot;:18,\&quot;param\&quot;:{\&quot;action\&quot;: \&quot;click\&quot;, \&quot;userId\&quot;: \&quot;2\&quot;, \&quot;articleId\&quot;: \&quot;116644\&quot;, \&quot;algorithmCombine\&quot;: \&quot;C2\&quot;}} &gt;&gt; userClick.log

2019-05-29 07:37:00 INFO: get user_id:2 action:click  log
2019-05-29 07:37:02 INFO: store online recall data:[118560, 18530, 59747, 118370, 49962, 17613, 117199, 15315, 118550, 140376]
</code></pre>
<p>ç»“æœæŸ¥è¯¢</p>
<pre><code>hbase(main):028:0&gt; get 'cb_recall', 'recall:user:2'
COLUMN                     CELL                                                                        
als:13                    timestamp=1558041569201, value=[141431]                                     
als:18                    timestamp=1558041572176, value=[19200, 17665, 19476, 16151, 16411, 19233, 13
                        090, 15140, 16421, 19494, 14381, 17966, 17454, 14125, 16174, 14899, 44339, 1
                        6437, 18743, 44090, 18238, 13890, 14915, 15429, 15944, 44371, 18005, 15196, 
                        13410, 13672, 44137, 18795, 19052, 44652, 44654, 44657, 14961, 17522, 43894,
                            44412, 16000, 14208, 44419, 17802, 14223, 18836, 140956, 18335, 13728, 1449
                        8, 44451, 44456, 18609, 18353, 44468, 18103, 13757, 14015, 13249, 44739, 444
                        83, 17605, 14021, 15309, 18127, 43983, 44754, 43986, 19413, 14805, 18904, 44
                        761, 17114, 13272, 14810, 18907, 13022, 14299, 17120, 17632, 43997, 17889, 1
                        7385, 18156, 15085, 13295, 44020, 14839, 44024, 14585, 18172, 44541]        
als:5                     timestamp=1558041564163, value=[141440]                                     
als:7                     timestamp=1558041568776, value=[141437]                                     
online:18                 timestamp=1559086622107, value=[118560, 18530, 59747, 118370, 49962, 17613, 
                        117199, 15315, 118550, 140376]
</code></pre>
<h1 id="çƒ­é—¨æ–‡ç« ä¸æ–°æ–‡ç« å®æ—¶å¬å›">çƒ­é—¨æ–‡ç« ä¸æ–°æ–‡ç« å®æ—¶å¬å›</h1>
<p>çƒ­é—¨æ–‡ç« ä¸æ–°æ–‡ç« æ˜¯å­˜åˆ°Redisä¸­ï¼ŒRediså­˜å‚¨ç»“æ„ï¼š</p>
<pre><code>æ–°æ–‡ç« å¬å›	        ç»“æ„	    ç¤ºä¾‹
new_article	        ch:{}:new   ch:18:new
çƒ­é—¨æ–‡ç« å¬å›	        ç»“æ„	    ç¤ºä¾‹
popular_recall	        ch:{}:hot   ch:18:hot
</code></pre>
<p>rediså®ç°åŸºæœ¬æ€è·¯</p>
<pre><code># æ–°æ–‡ç« å­˜å‚¨
# ZADD ZRANGE
# ZADD key score member [[score member] [score member] ...]
# ZRANGE page_rank 0 -1
client.zadd(&quot;ch:{}:new&quot;.format(channel_id), {article_id: time.time()})

# çƒ­é—¨æ–‡ç« å­˜å‚¨
# ZINCRBY key increment member
# ZSCORE
# ä¸ºæœ‰åºé›† key çš„æˆå‘˜ member çš„ score å€¼åŠ ä¸Šå¢é‡ increment ã€‚
client.zincrby(&quot;ch:{}:hot&quot;.format(row['channelId']), 1, row['param']['articleId'])

# ZREVRANGE key start stop [WITHSCORES]
client.zrevrange(ch:{}:new, 0, -1)
</code></pre>
<h2 id="æ·»åŠ çƒ­é—¨æ–‡ç« kafkaé…ç½®ä¿¡æ¯">æ·»åŠ çƒ­é—¨æ–‡ç« kafkaé…ç½®ä¿¡æ¯</h2>
<pre><code># æ·»åŠ sparkstreamingå¯åŠ¨å¯¹æ¥kafkaçš„é…ç½®
# é…ç½®KAFKAç›¸å…³ï¼Œç”¨äºçƒ­é—¨æ–‡ç« KAFKAè¯»å–
click_kafkaParams = {&quot;metadata.broker.list&quot;: DefaultConfig.KAFKA_SERVER}
HOT_DS = KafkaUtils.createDirectStream(stream_c, ['click-trace'], click_kafkaParams)
</code></pre>
<h2 id="ç¼–å†™çƒ­é—¨æ–‡ç« æ”¶é›†ç¨‹åº">ç¼–å†™çƒ­é—¨æ–‡ç« æ”¶é›†ç¨‹åº</h2>
<p>åœ¨settingä¸­å¢åŠ redisçš„é…ç½®</p>
<pre><code># redisçš„IPå’Œç«¯å£é…ç½®
REDIS_HOST = &quot;192.168.19.137&quot;
REDIS_PORT = 6379
</code></pre>
<p>ç„¶åæ·»åŠ åˆå§‹åŒ–ä¿¡æ¯</p>
<pre><code>class OnlineRecall(object):
    &quot;&quot;&quot;å®æ—¶å¤„ç†ï¼ˆæµå¼è®¡ç®—ï¼‰éƒ¨åˆ†
    &quot;&quot;&quot;

    def __init__(self):

        self.client = redis.StrictRedis(host=DefaultConfig.REDIS_HOST,
                                        port=DefaultConfig.REDIS_PORT,
                                        db=10)
        # åœ¨çº¿å¬å›ç­›é€‰TOP-kä¸ªç»“æœ
        self.k = 20
</code></pre>
<p>æ”¶é›†çƒ­é—¨æ–‡ç« ä»£ç ï¼š</p>
<pre><code>def _update_hot_redis(self):
    &quot;&quot;&quot;æ›´æ–°çƒ­é—¨æ–‡ç«   click-trace
    :return:
    &quot;&quot;&quot;
    client = self.client

    def updateHotArt(rdd):
        for row in rdd.collect():
            logger.info(&quot;{}, INFO: {}&quot;.format(datetime.now().strftime('%Y-%m-%d %H:%M:%S'), row))
            # å¦‚æœæ˜¯æ›å…‰å‚æ•°ï¼Œå’Œé˜…è¯»æ—¶é•¿é€‰æ‹©è¿‡æ»¤
            if row['param']['action'] == 'exposure' or row['param']['action'] == 'read':
                pass
            else:
                # è§£ææ¯æ¡è¡Œä¸ºæ—¥å¿—ï¼Œç„¶åè¿›è¡Œåˆ†æä¿å­˜ç‚¹å‡»ï¼Œå–œæ¬¢ï¼Œåˆ†äº«æ¬¡æ•°ï¼Œè¿™é‡Œæ‰€æœ‰è¡Œä¸ºéƒ½è‡ªå¢1
                client.zincrby(&quot;ch:{}:hot&quot;.format(row['channelId']), 1, row['param']['articleId'])

    HOT_DS.map(lambda x: json.loads(x[1])).foreachRDD(updateHotArt)

    return None
</code></pre>
<h3 id="æŸ¥çœ‹redisçƒ­é—¨æ–‡ç« ">æŸ¥çœ‹Redisçƒ­é—¨æ–‡ç« </h3>
<p>zrevrangeè¡¨ç¤ºä»é«˜åˆ°ä½éå†ï¼š</p>
<pre><code>client.zrevrange(ch:{}:new, 0, -1)
</code></pre>
<h2 id="ç¼–å†™æ–°æ–‡ç« æ”¶é›†ç¨‹åº">ç¼–å†™æ–°æ–‡ç« æ”¶é›†ç¨‹åº</h2>
<p>æ–°æ–‡ç« å¦‚ä½•è€Œæ¥ï¼Œé»‘é©¬å¤´æ¡åå°åœ¨æ–‡ç« å‘å¸ƒä¹‹åï¼Œä¼šå°†æ–°æ–‡ç« IDä»¥å›ºå®šæ ¼å¼ä¼ åˆ°KAFKAçš„new-article topicå½“ä¸­ã€‚<br>
æ–°æ–‡ç« çš„Kafkaçš„Topicé…ç½® ç±»ä¼¼ ä¸Šé¢çƒ­é—¨æ–‡ç« çš„é…ç½®ï¼š</p>
<pre><code># new-articleï¼Œæ–°æ–‡ç« çš„è¯»å–  KAFKAé…ç½®
NEW_ARTICLE_DS = KafkaUtils.createDirectStream(stream_c, ['new-article'], click_kafkaParams)
</code></pre>
<p>å¹¶ä¸”å¯¼å…¥ç›¸å…³åŒ…</p>
<pre><code>from online import HOT_DS, NEW_ARTICLE_DS
</code></pre>
<p>ç„¶åï¼Œå¹¶ä¸”åœ¨kafkaå¯åŠ¨è„šæœ¬start-kafka.shä¸­æ·»åŠ ï¼Œå…ˆåœ¨supervisorä¸­å…³é—­flumeä¸kafkaçš„è¿›ç¨‹</p>
<pre><code>/root/bigdata/kafka/bin/kafka-topics.sh --zookeeper 192.168.19.137:2181 --create --replication-factor 1 --topic new-article --partitions 1
</code></pre>
<p>ç„¶åsupervisor starté‡æ–°å¯åŠ¨ supervisoré…ç½®è§ä¸‹æ–¹ ğŸ‘‡</p>
<h2 id="æ·»åŠ supervisoråœ¨çº¿å®æ—¶è¿è¡Œè¿›ç¨‹ç®¡ç†">æ·»åŠ supervisoråœ¨çº¿å®æ—¶è¿è¡Œè¿›ç¨‹ç®¡ç†</h2>
<p>supervisoré…ç½®æ–‡ä»¶å¢åŠ ä»¥ä¸‹é…ç½®</p>
<pre><code>[program:online]
environment=JAVA_HOME=/root/bigdata/jdk,SPARK_HOME=/root/bigdata/spark,HADOOP_HOME=/root/bigdata/hadoop,PYSPARK_PYTHON=/miniconda2/envs/reco_sys/bin/python ,PYSPARK_DRIVER_PYTHON=/miniconda2/envs/reco_sys/bin/python,PYSPARK_SUBMIT_ARGS='--packages org.apache.spark:spark-streaming-kafka-0-8_2.11:2.2.2 pyspark-shell'
command=/miniconda2/envs/reco_sys/bin/python /root/toutiao_project/reco_sys/online/online_update.py
directory=/root/toutiao_project/reco_sys/online
user=root
autorestart=true
redirect_stderr=true
stdout_logfile=/root/logs/onlinesuper.log
loglevel=info
stopsignal=KILL
stopasgroup=true
killasgroup=true
</code></pre>
<p>é€šè¿‡supervisorè¿è¡Œæ–°æ–‡ç« æ›´æ–°çš„è¿›ç¨‹</p>
<pre><code>supervisor&gt; update
online: added process group
supervisor&gt; status
collect-click                    RUNNING   pid 97209, uptime 6:46:53
kafka                            RUNNING   pid 105159, uptime 6:20:09
offline                          STOPPED   Apr 16 04:31 PM
online                           RUNNING   pid 124591, uptime 0:00:02
supervisor&gt;
</code></pre>
<p>å¢åŠ ä¸€ä¸ªæ–°æ–‡ç« kafkaçš„topicï¼Œè¿™é‡Œä¼šä¸åå°å¯¹æ¥</p>
<h3 id="æ–°æ–‡ç« ä»£ç ">æ–°æ–‡ç« ä»£ç </h3>
<pre><code>def _update_new_redis(self):
    &quot;&quot;&quot;æ›´æ–°é¢‘é“æ–°æ–‡ç«  new-article
    :return:
    &quot;&quot;&quot;
    client = self.client

    def computeFunction(rdd):
        for row in rdd.collect():
            channel_id, article_id = row.split(',')
            logger.info(&quot;{}, INFO: get kafka new_article each data:channel_id{}, article_id{}&quot;.format(
                datetime.now().strftime('%Y-%m-%d %H:%M:%S'), channel_id, article_id))
            client.zadd(&quot;ch:{}:new&quot;.format(channel_id), {article_id: time.time()})

    NEW_ARTICLE_DS.map(lambda x: x[1]).foreachRDD(computeFunction)

    return None
</code></pre>
<h3 id="æµ‹è¯•">æµ‹è¯•:</h3>
<p>pythonå®‰è£…kafka:</p>
<pre><code>pip install kafka-python
</code></pre>
<p>æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°topicæƒ…å†µ</p>
<pre><code>from kafka import KafkaClient
client = KafkaClient(hosts=&quot;127.0.0.1:9092&quot;)
for topic in client.topics:
    print(topic)


from kafka import KafkaProducer 

# kafkaæ¶ˆæ¯ç”Ÿäº§è€…
kafka_producer = KafkaProducer(bootstrap_servers=['192.168.19.137:9092'])

# æ„é€ æ¶ˆæ¯å¹¶å‘é€
msg = '{},{}'.format(18, 13891)
kafka_producer.send('new-article', msg.encode())
</code></pre>
<p>å¯ä»¥å¾—åˆ°redisç»“æœ</p>
<pre><code>127.0.0.1:6379[10]&gt; keys *
1) &quot;ch:18:hot&quot;
2) &quot;ch:18:new&quot;
127.0.0.1:6379[10]&gt; ZRANGE &quot;ch:18:new&quot; 0 -1
1) &quot;13890&quot;
2) &quot;13891&quot;
</code></pre>
<p>æµç¨‹å›é¡¾</p>
<ul>
<li>åå•†å¥½æ–°æ–‡ç« å‘é€æ ¼å¼ä»¥åŠTopic</li>
<li>å®šä¹‰ä¸€ä¸ªæ–°çš„Topic</li>
<li>é…ç½®å¥½Kafkaçš„æ–°çš„Topicï¼Œé‡æ–°å¼€å¯Kafka</li>
<li>Streamingç¨‹åºå¯¹æ¥è¯»å–é€»è¾‘ï¼Œå­˜å…¥Redisï¼Œå®æ—¶è¿è¡Œç¨‹åºï¼Œæ£€æµ‹Kafkaæ˜¯å¦æœ‰æ–°æ•°æ®</li>
<li>å®æ—¶è®¡ç®—è„šæœ¬ï¼Œå°è£…ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä½œä¸º.pyè„šæœ¬ï¼Œé€šè¿‡supervisor ç®¡ç†pyè„šæœ¬ç›¸å…³è¿è¡Œå‘½ä»¤</li>
</ul>

                </div>
                <div class="clear"></div>
              </section>
            </article>
            <div class="clear"></div>

            <section class="related section">
              
              <article class="prev grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://cythonlin.github.io/media/images/wAXYBHxvH.jpg');"></div>
                 <a href="https://cythonlin.github.io/post/py-greater-yin-sheng-he-cheng/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2020-10-12">2020-10-12</time>
                  <h4 class="title white no-margin">PY =&gt; éŸ³å£°åˆæˆ</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://cythonlin.github.io/media/images/left-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              
              
              <article class="next grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('https://cythonlin.github.io/media/images/c137hZpK4.jpg');"></div>
                 <a href="https://cythonlin.github.io/post/py-greater-github-cli-quan-tao/" class="full-link"></a>
                 <div class="info">
                  <time datetime="2020-10-03">2020-10-03</time>
                  <h4 class="title white no-margin">PY =&gt; Github-Cli(1.6.2)</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://cythonlin.github.io/media/images/right-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              

                <div class="clear"></div>
            </section>

              <div class="clear"></div>
              
            
<!--               <div id="comments" class="bg-white hosted ">
                <p>è¯·åˆ°å®¢æˆ·ç«¯â€œä¸»é¢˜--è‡ªå®šä¹‰é…ç½®--valineâ€ä¸­å¡«å…¥IDå’ŒKEY</p>
              </div> -->
              <div class="clear"></div>
            

            </div>
          </div>
      </main>

          <footer id="footer" class="grid-container">
        <div class="widgets row gradient-effect">
            <div class="default-sidebar border-effect">
              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_epcl_posts_thumbs underline-effect">
                  <h4 class="widget-title title white bordered">æœ€æ–°æ–‡ç« </h4>
                  
                  
                  <article class="item post-0 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://cythonlin.github.io/post/ide-greater-my-sublimepy/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-03-03">2021-03-03</time>
                      <h4 class="title usmall">
                        <a href="https://cythonlin.github.io/post/ide-greater-my-sublimepy/">IDE =&gt; My Sublimeï¼ˆPYï¼‰</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-1 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://cythonlin.github.io/post/rs-greater-9/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-03-03">2021-03-03</time>
                      <h4 class="title usmall">
                        <a href="https://cythonlin.github.io/post/rs-greater-9/"> IDE =&gt; My Pycharm</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-2 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://cythonlin.github.io/post/rs-greater-8/" class="thumb hover-effect">
                      <span class="fullimage cover" style="display:block;border-radius:50%;background-image: url('/media/images/gridea.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2021-03-03">2021-03-03</time>
                      <h4 class="title usmall">
                        <a href="https://cythonlin.github.io/post/rs-greater-8/">RS =&gt; 8</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_tag_cloud underline-effect">
                  <h4 class="widget-title title white bordered">æ ‡ç­¾äº‘</h4>
                  <div class="tagcloud">
                    
                      <a href="https://cythonlin.github.io/tag/c137hZpK4/" class="ctag ctag-0 ctag-c137hZpK4" aria-label="">IDE</a>
                    
                      <a href="https://cythonlin.github.io/tag/wAXYBHxvH/" class="ctag ctag-1 ctag-wAXYBHxvH" aria-label="">Python</a>
                    
                      <a href="https://cythonlin.github.io/tag/EjFvvnhFs/" class="ctag ctag-2 ctag-EjFvvnhFs" aria-label="">RS</a>
                    
                      <a href="https://cythonlin.github.io/tag/XH05Gb5J6/" class="ctag ctag-3 ctag-XH05Gb5J6" aria-label="">Golang</a>
                    
                      <a href="https://cythonlin.github.io/tag/sKPdrpV6Y/" class="ctag ctag-4 ctag-sKPdrpV6Y" aria-label="">PR</a>
                    
                      <a href="https://cythonlin.github.io/tag/1L4lr0i2f/" class="ctag ctag-5 ctag-1L4lr0i2f" aria-label="">Docker</a>
                    
                      <a href="https://cythonlin.github.io/tag/n16me-6oV/" class="ctag ctag-6 ctag-n16me-6oV" aria-label="">AI</a>
                    
                      <a href="https://cythonlin.github.io/tag/FLS_eF6Eg/" class="ctag ctag-7 ctag-FLS_eF6Eg" aria-label="">KG</a>
                    
                      <a href="https://cythonlin.github.io/tag/sJAb6NuUK/" class="ctag ctag-8 ctag-sJAb6NuUK" aria-label="">DB</a>
                    
                  </div>
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="epcl_about-2" class="widget widget_epcl_about underline-effect">
                  <h4 class="widget-title title white bordered">å…³äºæˆ‘</h4>
                  <div class="avatar">
                    <a href="" class="translate-effect thumb"><span class="fullimage cover" style="background-image: url(https://cythonlin.github.io/images/avatar.png);"></span></a>
                  </div>
                  <div class="info">
                    <h4 class="title small author-name gradient-effect no-margin"><a href="">Cython_lin</a></h4>
                    <p class="founder"></p>
                    <div class="social">
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                    </div> 
                  </div>
                  <div class="clear"></div>
                  </section>
              </div>

            </div>
            <div class="clear"></div>
        </div>

        <div class="logo">
          <a href="https://cythonlin.github.io"><img src="\media\images\custom-footerLogo.png" alt=""></a>
        </div>
        <p class="published border-effect">
          Â©2019 å…± 78 ç¯‡æ–‡ç« 
          <br/>

        </p>
        
        <a href="javascript:void(0)" id="back-to-top" class="epcl-button dark" style="display:none">
          <i class="fa fa-arrow"></i>
        </a>
    </footer>
    
    <div class="clear"></div>

        

      
    <script src="https://cythonlin.github.io/media/js/functions-post.js"></script>

    </div>
    <!-- end: #wrapper -->
  </body>
</html>
